
# How to install a mysql server 

Original wiki: https://wiki.netbsd.org/pkgsrc/how_to_install_a_mysql_server/


Installation via pkgin
----------------------
```
pkg_add pgkin
pkgin update
pking upgrade
pkgin install mysql-server-5.7.34nb1 mysql-client-5.7.34nb1
```

Installation from source via pkgsrc
-----------------------------------

```
cd /usr/pkgsrc/databases/mysql57-server/
make install clean
```

Setup the database and the root account
---------------------------------------

Copy the init script and initialize the database

```
cp /usr/pkg/share/examples/rc.d/mysqld /etc/rc.d/
/etc/rc.d/mysqld initdb
/etc/rc.d/mysqld start
```

Change the root password with your own strong and secure one.
For that you need to copy the temporary password generated by the "initdb" 
and use when requested by the the following command:

```
/usr/pkg/bin/mysqladmin -u root -p password 'PUT HERE A NEW PASSWORD"
````

Possible errors
--------------

While changing the root password you may face to this error:

```
/usr/pkg/bin/mysqladmin -u root -p password 'YOUR STRONG AND SECURE PASSWORD HERE'
Enter password:
mysqladmin: connect to server at 'localhost' failed
error: 'Access denied for user 'root'@'localhost' (using password: YES)
```

Verify /var/log/messages and /var/mysql/localhost.err

There is maybe an already running mysqld which has not be stopped before reinstalling or upgrading 
your mysql server. Then in this case kill the proces, remove /var/mysql and restart from "Setup the database and the root account"

Last Update
-----------
Wed Sep  8 11:50:46 CEST 2021
